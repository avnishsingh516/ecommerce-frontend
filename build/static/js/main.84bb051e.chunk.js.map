{"version":3,"sources":["config.js","auth/index.js","core/Menu.js","core/cartHelper.js","core/Layout.js","user/Signup.js","user/Signin.js","core/apiCore.js","core/ShowImage.js","core/Card.js","core/Search.js","core/Home.js","auth/PrivateRoute.js","user/UserDashboard.js","user/apiUser.js","auth/AdminRoute.js","user/AdminDashboard.js","admin/apiAdmin.js","admin/AddCategory.js","admin/AddProduct.js","core/Checkbox.js","core/fixedPrices.js","core/RadioBox.js","core/Shop.js","core/Product.js","core/Checkout.js","core/Cart.js","admin/Orders.js","user/Profile.js","admin/ManageProducts.js","admin/UpdateProduct.js","admin/updateCategory.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","isActive","history","path","location","pathname","color","withRouter","className","style","to","length","user","role","cursor","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Layout","title","description","children","Signup","useState","name","email","password","error","success","values","setValues","handleChange","event","target","value","clickSubmit","preventDefault","headers","Accept","body","stringify","json","data","display","onChange","type","Signin","loading","redirectToReferrer","signin","setItem","authenticate","getProducts","sortBy","getCategories","getFilteredProducts","skip","limit","filters","ShowImage","item","url","src","_id","alt","maxHeight","maxWidth","Card","product","showViewProductButton","showAddToCartButton","cartUpdate","showRemoveProductButton","setRun","f","run","undefined","redirect","setRedirect","count","setCount","addToCart","cart","Array","from","Set","map","p","id","find","addItem","productId","i","updateItem","shouldRedirect","substring","price","category","moment","createdAt","fromNow","quantity","showViewButton","showAddToCart","splice","showRemoveButton","showCartUpdateOptions","Search","categories","search","results","searched","setData","useEffect","searchData","params","query","queryString","list","searchSubmit","e","searchMessage","onSubmit","c","key","placeholder","border","searchedProducts","Home","productsBySell","setProductsBySell","productsByArrival","setProductsByArrival","setError","PrivateRoute","Component","component","rest","render","props","state","Dashboard","setHistory","token","init","userId","Authorization","getPurchaseHistory","h","products","purchaseHistory","AdminRoute","AdminDashboard","AddCategory","setName","setSuccess","createCategory","showSuccess","showError","autoFocus","required","AddProduct","shipping","photo","createdProduct","redirectToProfile","formData","FormData","files","set","createProduct","accept","Checkbox","handleFilters","checked","setChecked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","prices","array","RadioBox","setValue","Shop","myFilters","setMyFilters","setCategories","setSkip","size","setSize","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValues","handlePrice","parseInt","Product","setProduct","relatedProduct","setRelatedProduct","loadSignalProduct","read","listRelated","match","Checkout","clientToken","instance","address","getToken","getBraintreeClientToken","handleAddress","getTotal","reduce","currentValue","nextValue","deliveryAddress","buy","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","processPayment","createOrderData","transaction_id","transaction","order","createOrder","message","showDropIn","onBlur","options","authorization","paypal","flow","onInstance","Cart","items","setItems","showItems","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handleStatusChange","orderId","status","updateOrderStatus","o","oIndex","borderBottom","index","showStatus","pIndex","padding","Profile","update","auth","updateUser","emeail","profileUpdate","redirectUser","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","UpdateProduct","getProduct","initCategories","updateProduct","UpdateCategory","categoryId","getCategory","submitCategoryForm","updateCategory","data-dismiss","aria-label","aria-hidden","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.84bb051e.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_API_URL;","import { API } from \"../config\";\n\nexport const signup = (user) => {\n  return fetch(`${API}/signup`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(user),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const signin = (user) => {\n  return fetch(`${API}/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(user),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const authenticate = (data, next) => {\n  if (typeof window !== \"undefined\") {\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\n    next();\n  }\n};\n\nexport const signout = (next) => {\n  if (typeof window !== \"undefined\") {\n    localStorage.removeItem(\"jwt\");\n    next();\n    return fetch(`${API}/signout`, {\n      method: \"GET\",\n    })\n      .then((response) => {\n        console.log(\"signout\", response);\n      })\n      .catch((err) => console.log(err));\n  }\n};\n\nexport const isAuthenticated = () => {\n  if (typeof window == \"undefined\") {\n    return false;\n  }\n  if (localStorage.getItem(\"jwt\")) {\n    return JSON.parse(localStorage.getItem(\"jwt\"));\n  } else {\n    return false;\n  }\n};\n","import React, { Fragment } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { signout, isAuthenticated } from \"../auth\";\nimport { itemTotal } from \"./cartHelper\";\n\nconst isActive = (history, path) => {\n  if (history.location.pathname === path) {\n    return { color: \"#ff9900\" };\n  } else {\n    return { color: \"#ffffff\" };\n  }\n};\n\nconst Menu = ({ history }) => (\n  <div>\n    <ul className=\"nav nav-tabs bg-primary\">\n      <li className=\"nav-item\">\n        <Link className=\"nav-link\" style={isActive(history, \"/\")} to=\"/\">\n          Home..\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link\n          className=\"nav-link\"\n          style={isActive(history, \"/shop\")}\n          to=\"/shop\"\n        >\n          Shop\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link\n          className=\"nav-link\"\n          style={isActive(history, \"/cart\")}\n          to=\"/cart\"\n        >\n          Cart{\" \"}\n          <sup>\n            <small className=\"cart-badge\">{itemTotal()}</small>\n          </sup>\n        </Link>\n      </li>\n\n      {isAuthenticated() && isAuthenticated().user.role === 0 && (\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link\"\n            style={isActive(history, \"/user/dashboard\")}\n            to=\"/user/dashboard\"\n          >\n            Dashboard..\n          </Link>\n        </li>\n      )}\n\n      {isAuthenticated() && isAuthenticated().user.role === 1 && (\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link\"\n            style={isActive(history, \"/admin/dashboard\")}\n            to=\"/admin/dashboard\"\n          >\n            Dashboard..\n          </Link>\n        </li>\n      )}\n\n      {!isAuthenticated() && (\n        <Fragment>\n          <li className=\"nav-item\">\n            <Link\n              className=\"nav-link\"\n              style={isActive(history, \"/signin\")}\n              to=\"/signin\"\n            >\n              Signin..\n            </Link>\n          </li>\n\n          <li className=\"nav-item\">\n            <Link\n              className=\"nav-link\"\n              style={isActive(history, \"/signup\")}\n              to=\"/signup\"\n            >\n              Signup..\n            </Link>\n          </li>\n        </Fragment>\n      )}\n\n      {isAuthenticated() && (\n        <li className=\"nav-item\">\n          <span\n            className=\"nav-link\"\n            style={{ cursor: \"pointer\", color: \"#ffffff\" }}\n            onClick={() =>\n              signout(() => {\n                history.push(\"/\");\n              })\n            }\n          >\n            Signout\n          </span>\n        </li>\n      )}\n    </ul>\n  </div>\n);\n\nexport default withRouter(Menu);\n","export const addItem = (item = [], count = 0, next = (f) => f) => {\n  let cart = [];\n  if (typeof window !== \"undefined\") {\n    if (localStorage.getItem(\"cart\")) {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n    cart.push({\n      ...item,\n      count: 1,\n    });\n\n    // remove duplicates\n    // build an Array from new Set and turn it back into array using Array.from\n    // so that later we can re-map it\n    // new set will only allow unique values in it\n    // so pass the ids of each object/product\n    // If the loop tries to add the same value again, it'll get ignored\n    // ...with the array of ids we got on when first map() was used\n    // run map() on it again and return the actual product from the cart\n\n    cart = Array.from(new Set(cart.map((p) => p._id))).map((id) => {\n      return cart.find((p) => p._id === id);\n    });\n\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    next();\n  }\n};\n\nexport const itemTotal = () => {\n  if (typeof window !== \"undefined\") {\n    if (localStorage.getItem(\"cart\")) {\n      return JSON.parse(localStorage.getItem(\"cart\")).length;\n    }\n  }\n  return 0;\n};\n\nexport const getCart = () => {\n  if (typeof window !== \"undefined\") {\n    if (localStorage.getItem(\"cart\")) {\n      return JSON.parse(localStorage.getItem(\"cart\"));\n    }\n  }\n  return [];\n};\n\nexport const updateItem = (productId, count) => {\n  let cart = [];\n  if (typeof window !== \"undefined\") {\n    if (localStorage.getItem(\"cart\")) {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n\n    cart.map((product, i) => {\n      if (product._id === productId) {\n        cart[i].count = count;\n      }\n    });\n\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n  }\n};\n\nexport const removeItem = (productId) => {\n  let cart = [];\n  if (typeof window !== \"undefined\") {\n    if (localStorage.getItem(\"cart\")) {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n\n    cart.map((product, i) => {\n      if (product._id === productId) {\n        cart.splice(i, 1);\n      }\n    });\n\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n  }\n  return cart;\n};\n\nexport const emptyCart = (next) => {\n  if (typeof window !== \"undefined\") {\n    localStorage.removeItem(\"cart\");\n    next();\n  }\n};\n","import React from \"react\";\nimport Menu from \"./Menu\";\nimport \"../styles.css\";\n\nconst Layout = ({\n  title = \"Title\",\n  description = \"Description\",\n  className,\n  children,\n}) => (\n  <div>\n    <Menu />\n    <div className=\"jumbotron\">\n      <h2>{title}</h2>\n      <p className=\"lead\">{description}</p>\n    </div>\n    <div className={className}>{children}</div>\n  </div>\n);\n\nexport default Layout;\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Layout from \"../core/Layout\";\r\nimport { signup } from \"../auth\";\r\n\r\nconst Signup = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n  });\r\n\r\n  const { name, email, password, success, error } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false });\r\n    signup({ name, email, password }).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error, success: false });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          email: \"\",\r\n          password: \"\",\r\n          error: \"\",\r\n          success: true,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const signUpForm = () => (\r\n    <form>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={name}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Email</label>\r\n        <input\r\n          onChange={handleChange(\"email\")}\r\n          type=\"email\"\r\n          className=\"form-control\"\r\n          value={email}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Password</label>\r\n        <input\r\n          onChange={handleChange(\"password\")}\r\n          type=\"password\"\r\n          className=\"form-control\"\r\n          value={password}\r\n        />\r\n      </div>\r\n      <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className=\"alert alert-info\"\r\n      style={{ display: success ? \"\" : \"none\" }}\r\n    >\r\n      New account is created. Please <Link to=\"/signin\">Signin</Link>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Signup\"\r\n      description=\"Signup to Node React E-commerce App\"\r\n      className=\"container col-md-8 offset-md-2\"\r\n    >\r\n      {showSuccess()}\r\n      {showError()}\r\n      {signUpForm()}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Layout from \"../core/Layout\";\nimport { signin, authenticate, isAuthenticated } from \"../auth/index\";\n\nconst Signin = () => {\n  const [values, setValues] = useState({\n    email: \"singhavnish516@gmail.com\",\n    password: \"avnish99\",\n    error: \"\",\n    loading: false,\n    redirectToReferrer: false,\n  });\n\n  const { email, password, error, loading, redirectToReferrer } = values;\n  const { user } = isAuthenticated();\n\n  const handleChange = (name) => (event) => {\n    setValues({ ...values, error: false, [name]: event.target.value });\n  };\n\n  const clickSubmit = (event) => {\n    event.preventDefault();\n    setValues({ ...values, error: false, loading: true });\n    signin({ email, password }).then((data) => {\n      if (data.error) {\n        setValues({ ...values, error: data.error, loading: false });\n      } else {\n        authenticate(data, () => {\n          setValues({\n            ...values,\n            redirectToReferrer: true,\n          });\n        });\n      }\n    });\n  };\n\n  const signInForm = () => (\n    <form>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Email</label>\n        <input\n          onChange={handleChange(\"email\")}\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Password</label>\n        <input\n          onChange={handleChange(\"password\")}\n          type=\"password\"\n          className=\"form-control\"\n          value={password}\n        />\n      </div>\n\n      <button onClick={clickSubmit} className=\"btn btn-primary\">\n        Submit\n      </button>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? \"\" : \"none\" }}\n    >\n      {error}\n    </div>\n  );\n\n  const showloading = () =>\n    loading && (\n      <div className=\"alert alert-info\">\n        <h2>Loading ....</h2>\n      </div>\n    );\n\n  const redirectUser = () => {\n    if (redirectToReferrer) {\n      if (user && user.role === 1) {\n        return <Redirect to=\"/admin/dashboard\" />;\n      } else {\n        return <Redirect to=\"/user/dashboard\" />;\n      }\n    }\n    if (isAuthenticated()) {\n      return <Redirect to=\"/\" />;\n    }\n  };\n\n  return (\n    <Layout\n      title=\"Signin Page\"\n      description=\"Signin to Node React E-commerce App\"\n      className=\"container col-md-8 offset-md-2\"\n    >\n      {showloading()}\n      {showError()}\n      {signInForm()}\n      {redirectUser()}\n    </Layout>\n  );\n};\n\nexport default Signin;\n","import { API } from \"../config\";\nimport queryString from \"query-string\";\n\nexport const getProducts = (sortBy) => {\n  return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=6`, {\n    method: \"GET\",\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const getCategories = () => {\n  return fetch(`${API}/categories`, {\n    method: \"GET\",\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\n  const data = {\n    limit,\n    skip,\n    filters,\n  };\n\n  return fetch(`${API}/products/by/search`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const list = (params) => {\n  const query = queryString.stringify(params);\n  console.log(\"query\", query);\n  return fetch(`${API}/products/search?${query}`, {\n    method: \"GET\",\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const read = (productId) => {\n  return fetch(`${API}/product/${productId}`, {\n    method: \"GET\",\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const listRelated = (productId) => {\n  return fetch(`${API}/products/related/${productId}`, {\n    method: \"GET\",\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const getBraintreeClientToken = (userId, token) => {\n  return fetch(`${API}/braintree/getToken/${userId}`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const processPayment = (userId, token, paymentData) => {\n  return fetch(`${API}/braintree/payment/${userId}`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify(paymentData),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const createOrder = (userId, token, createOrderData) => {\n  return fetch(`${API}/order/create/${userId}`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({ order: createOrderData }),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n","import React from \"react\";\nimport { API } from \"../config\";\n\nconst ShowImage = ({ item, url }) => (\n  <div className=\"product-img\">\n    <img\n      src={`${API}/${url}/photo/${item._id}`}\n      alt={item.name}\n      className=\"mb-3\"\n      style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\n    />\n  </div>\n);\n\nexport default ShowImage;\n","import React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport ShowImage from \"./ShowImage\";\nimport moment, { updateLocale } from \"moment\";\nimport { addItem, updateItem, removeItem } from \"./cartHelper\";\n\nconst Card = ({\n  product,\n  showViewProductButton = true,\n  showAddToCartButton = true,\n  cartUpdate = false,\n  showRemoveProductButton = false,\n  setRun = (f) => f, // default value of function\n  run = undefined, // default value of undefined\n}) => {\n  const [redirect, setRedirect] = useState(false);\n  const [count, setCount] = useState(product.count);\n\n  const showViewButton = (showViewProductButton) => {\n    return (\n      showViewProductButton && (\n        <Link to={`/product/${product._id}`}>\n          <button className=\"btn btn-outline-primary mt-2 mb-2 mr-2\">\n            View Product\n          </button>\n        </Link>\n      )\n    );\n  };\n\n  const addToCart = () => {\n    addItem(product, () => {\n      setRedirect(true);\n    });\n  };\n\n  const shouldRedirect = (redirect) => {\n    if (redirect) {\n      return <Redirect to=\"/cart\" />;\n    }\n  };\n\n  const showAddToCart = (showAddToCartButton) => {\n    return (\n      showAddToCartButton && (\n        <button\n          onClick={addToCart}\n          className=\"btn btn-outline-warning mt-2 mb-2\"\n        >\n          Add to Cart\n        </button>\n      )\n    );\n  };\n\n  const showRemoveButton = (showRemoveProductButton) => {\n    return (\n      showRemoveProductButton && (\n        <button\n          onClick={() => {\n            removeItem(product._id);\n            setRun(!run);\n          }}\n          className=\"btn btn-outline-danger mt-2 mb-2\"\n        >\n          Remove product\n        </button>\n      )\n    );\n  };\n\n  const showStock = (quantity) => {\n    return quantity > 0 ? (\n      <span className=\"badge badge-primary badge-pill\">In Stock</span>\n    ) : (\n      <span className=\"badge badge-primary badge-pill\">Out of Stock</span>\n    );\n  };\n\n  const handleChange = (productId) => (event) => {\n    setRun(!run); // run useEffect in parent Cart\n    setCount(event.target.value < 1 ? 1 : event.target.value);\n    if (event.target.value >= 1) {\n      updateItem(productId, event.target.value);\n    }\n  };\n\n  const showCartUpdateOptions = (cartUpdate) => {\n    return (\n      cartUpdate && (\n        <div>\n          <div className=\"input-group mb-3\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">Adjust Quantity</span>\n            </div>\n            <input\n              type=\"number\"\n              className=\"form-control\"\n              value={count}\n              onChange={handleChange(product._id)}\n            />\n          </div>\n        </div>\n      )\n    );\n  };\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-header name\">{product.name}</div>\n      <div className=\"card-body\">\n        {shouldRedirect(redirect)}\n        <ShowImage item={product} url=\"product\" />\n        <p className=\"lead mt-2\"> {product.description.substring(0, 100)}</p>\n        <p className=\"black-10\"> {product.price}</p>\n        <p className=\"black-9\">\n          Category: {product.category && product.category.name}\n        </p>\n        <p className=\"black-8\">\n          Added on {moment(product.createdAt).fromNow()}\n        </p>\n\n        {showStock(product.quantity)}\n        <br />\n\n        {showViewButton(showViewProductButton)}\n\n        {showAddToCart(showAddToCartButton)}\n\n        {showRemoveButton(showRemoveProductButton)}\n\n        {showCartUpdateOptions(cartUpdate)}\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","import React, { useState, useEffect } from \"react\";\nimport { getCategories, list } from \"./apiCore\";\nimport Card from \"./Card\";\n\nconst Search = () => {\n  const [data, setData] = useState({\n    categories: [],\n    category: \"\",\n    search: \"\",\n    results: [],\n    searched: false,\n  });\n\n  const { categories, category, search, results, searched } = data;\n\n  const loadCategories = () => {\n    getCategories().then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setData({\n          ...data,\n          categories: data.data,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const searchData = () => {\n    // console.log(search, category);\n    if (search) {\n      list({ search: search || undefined, category: category }).then(\n        (response) => {\n          if (data.error) {\n            console.log(response.error);\n          } else {\n            setData({ ...data, results: response, searched: true });\n          }\n        }\n      );\n    }\n  };\n\n  const searchSubmit = (e) => {\n    e.preventDefault();\n    searchData();\n  };\n\n  const handleChange = (name) => (event) => {\n    setData({ ...data, [name]: event.target.value, searched: false });\n  };\n\n  const searchMessage = (searched, results) => {\n    if (searched && results.length > 0) {\n      return `Found ${results.length} products`;\n    }\n    if (searched && results.length < 1) {\n      return `No product found`;\n    }\n  };\n\n  const searchedProducts = (results = []) => {\n    return (\n      <div>\n        <h2 className=\"mt-4 mb-4\">{searchMessage(searched, results)}</h2>\n        <div className=\"row\">\n          {results.map((product, i) => (\n            <Card key={i} product={product} />\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  const searchForm = () => (\n    <form onSubmit={searchSubmit}>\n      <span className=\"input-group-text\">\n        <div className=\"input-group input-group-lg\">\n          <div className=\"input-group-prepend\">\n            <select className=\"btn mr-2 \" onChange={handleChange(\"category\")}>\n              <option value=\"All\">All</option>\n              {categories.map((c, i) => (\n                <option key={i} value={c._id}>\n                  {c.name}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <input\n            type=\"search\"\n            className=\"form-control\"\n            onChange={handleChange(\"search\")}\n            placeholder=\"Search by name\"\n          />\n        </div>\n\n        <div className=\"btn input-group-append\" style={{ border: \"none\" }}>\n          <button className=\"input-group-text\">Search</button>\n        </div>\n      </span>\n    </form>\n  );\n\n  return (\n    <div className=\"row\">\n      <div className=\"container mb-3\">{searchForm()}</div>\n      <div className=\"container-fluid mb-3\">{searchedProducts(results)}</div>\n    </div>\n  );\n};\n\nexport default Search;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport { getProducts } from \"./apiCore\";\nimport Card from \"./Card\";\nimport Search from \"./Search\";\n\nconst Home = () => {\n  const [productsBySell, setProductsBySell] = useState([]);\n  const [productsByArrival, setProductsByArrival] = useState([]);\n  // eslint-disable-next-line\n  const [error, setError] = useState(false);\n\n  const loadProductBySell = () => {\n    getProducts(\"sold\").then((data) => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProductsBySell(data);\n      }\n    });\n  };\n\n  const loadProductByArrival = () => {\n    getProducts(\"createdAt\").then((data) => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProductsByArrival(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadProductByArrival();\n    loadProductBySell();\n  }, []);\n\n  return (\n    <Layout\n      title=\"Home Page\"\n      description=\"Node React E-commerce App\"\n      className=\"container-fluid\"\n    >\n      <Search />\n      <h2 className=\"mb-4\">New Arrivals</h2>\n      <div className=\"row\">\n        {productsByArrival.map((product, i) => (\n          <div key={i} className=\"col-4 mb-3\">\n            <Card product={product} />\n          </div>\n        ))}\n      </div>\n\n      <h2 className=\"mb-4\">Best Seller</h2>\n      <div className=\"row\">\n        {productsBySell.map((product, i) => (\n          <div key={i} className=\"col-4 mb-3\">\n            <Card product={product} />\n          </div>\n        ))}\n      </div>\n    </Layout>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={(props) =>\n      isAuthenticated() ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{\n            pathname: \"/signin\",\n            state: { from: props.location },\n          }}\n        />\n      )\n    }\n  />\n);\n\nexport default PrivateRoute;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { getPurchaseHistory } from \"./apiUser\";\nimport moment from \"moment\";\n\nconst Dashboard = () => {\n  const [history, setHistory] = useState([]);\n\n  const {\n    user: { _id, name, email, role },\n  } = isAuthenticated();\n  const token = isAuthenticated().token;\n\n  const init = (userId, token) => {\n    getPurchaseHistory(userId, token).then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setHistory(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    init(_id, token);\n  }, []);\n\n  const userLinks = () => {\n    return (\n      <div className=\"card\">\n        <h4 className=\"card-header\">User Links</h4>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/cart\">\n              My Cart\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to={`/profile/${_id}`}>\n              Update Profile\n            </Link>\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  const userInfo = () => {\n    return (\n      <div className=\"card mb-5\">\n        <h3 className=\"card-header\">User Information</h3>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">{name}</li>\n          <li className=\"list-group-item\">{email}</li>\n          <li className=\"list-group-item\">\n            {role === 1 ? \"Admin\" : \"Registered User\"}\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  const purchaseHistory = (history) => {\n    return (\n      <div className=\"card mb-5\">\n        <h3 className=\"card-header\">Purchase history</h3>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">\n            {history.map((h, i) => {\n              return (\n                <div>\n                  <hr />\n                  {h.products.map((p, i) => {\n                    return (\n                      <div key={i}>\n                        <h6>Product name: {p.name}</h6>\n                        <h6>Product price: ${p.price}</h6>\n                        <h6>Purchased date: {moment(p.createdAt).fromNow()}</h6>\n                      </div>\n                    );\n                  })}\n                </div>\n              );\n            })}\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  return (\n    <Layout\n      title=\"Dashboard\"\n      description={`G'day ${name}!`}\n      className=\"container-fluid\"\n    >\n      <div className=\"row\">\n        <div className=\"col-3\">{userLinks()}</div>\n        <div className=\"col-9\">\n          {userInfo()}\n          {purchaseHistory(history)}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Dashboard;\n","import { API } from \"../config\";\n\nexport const read = (userId, token) => {\n  return fetch(`${API}/user/${userId}`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const update = (userId, token, user) => {\n  return fetch(`${API}/user/${userId}`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify(user),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const updateUser = (user, next) => {\n  if (typeof window !== \"undefined\") {\n    if (localStorage.getItem(\"jwt\")) {\n      let auth = JSON.parse(localStorage.getItem(\"jwt\"));\n      auth.user = user;\n      localStorage.setItem(\"jwt\", JSON.stringify(auth));\n      next();\n    }\n  }\n};\n\nexport const getPurchaseHistory = (userId, token) => {\n  return fetch(`${API}/orders/by/user/${userId}`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst AdminRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={(props) =>\n      isAuthenticated() && isAuthenticated().user.role === 1 ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{\n            pathname: \"/signin\",\n            state: { from: props.location },\n          }}\n        />\n      )\n    }\n  />\n);\n\nexport default AdminRoute;\n","import React from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\n\nconst AdminDashboard = () => {\n  const {\n    user: { _id, name, email, role },\n  } = isAuthenticated();\n\n  const adminLinks = () => {\n    return (\n      <div className=\"card\">\n        <h4 className=\"card-header\">Admin Links</h4>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/create/category\">\n              Create Category\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/create/product\">\n              Create Product\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/admin/orders\">\n              View Orders\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/admin/products\">\n              Manage Products\n            </Link>\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  const adminInfo = () => {\n    return (\n      <div className=\"card mb-5\">\n        <h3 className=\"card-header\">User Information</h3>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">{name}</li>\n          <li className=\"list-group-item\">{email}</li>\n          <li className=\"list-group-item\">\n            {role === 1 ? \"Admin\" : \"Registered User\"}\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  return (\n    <Layout\n      title=\"Dashboard\"\n      description={`G'day ${name}!`}\n      className=\"container-fluid\"\n    >\n      <div className=\"row\">\n        <div className=\"col-3\">{adminLinks()}</div>\n        <div className=\"col-9\">{adminInfo()}</div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default AdminDashboard;\n","import { API } from \"../config\";\n\nexport const createCategory = (userId, token, category) => {\n  return fetch(`${API}/category/create/${userId}`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify(category),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const updateCategory = (categoryId, userId, token, category) => {\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\n    method: \"PUT\",\n    headers: {\n      // content type?\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify(category),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const createProduct = (userId, token, product) => {\n  return fetch(`${API}/product/create/${userId}`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: product,\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const getCategory = (categoryId) => {\n  return fetch(`${API}/category/${categoryId}`, {\n    method: \"GET\",\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const getCategories = () => {\n  return fetch(`${API}/categories`, {\n    method: \"GET\",\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const listOrders = (userId, token) => {\n  return fetch(`${API}/order/list/${userId}`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const getStatusValues = (userId, token) => {\n  return fetch(`${API}/order/status-values/${userId}`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const updateOrderStatus = (userId, token, orderId, status) => {\n  return fetch(`${API}/order/${orderId}/status/${userId}`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({ status, orderId }),\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\n/**\n * to perform crud on product\n * get all products\n * get a single product\n * update single product\n * delete single product\n */\n\nexport const getProducts = () => {\n  return fetch(`${API}/products?limit=100`, {\n    method: \"GET\",\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const deleteProduct = (productId, userId, token) => {\n  return fetch(`${API}/product/${productId}/${userId}`, {\n    method: \"DELETE\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const getProduct = (productId) => {\n  return fetch(`${API}/product/${productId}`, {\n    method: \"GET\",\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const updateProduct = (productId, userId, token, product) => {\n  return fetch(`${API}/product/${productId}/${userId}`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: product,\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .catch((err) => console.log(err));\n};\n","import React, { useState } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createCategory } from \"./apiAdmin\";\r\n\r\nconst AddCategory = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  //destructure user and token from localstorage\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const handleChange = (e) => {\r\n    setError(\"\");\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const clickSubmit = (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n\r\n    //make request to api to create category\r\n    createCategory(user._id, token, { name }).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setError(\"\");\r\n        setSuccess(true);\r\n      }\r\n    });\r\n  };\r\n\r\n  const newCategoryForm = () => (\r\n    <form onSubmit={clickSubmit}>\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          onChange={handleChange}\r\n          value={name}\r\n          autoFocus\r\n          required\r\n        />\r\n      </div>\r\n      <button className=\"btn btn-outline-primary\">Create Category</button>\r\n    </form>\r\n  );\r\n\r\n  const showSuccess = () => {\r\n    if (success) {\r\n      return <h3 className=\"text-success\">{name} is created</h3>;\r\n    }\r\n  };\r\n\r\n  const showError = () => {\r\n    if (error) {\r\n      return <h3 className=\"text-danger\">Category should be unique</h3>;\r\n    }\r\n  };\r\n\r\n  const goBack = () => (\r\n    <div className=\"mt-5\">\r\n      <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n        Back to Dashboard\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Add a new category\"\r\n      description={`G'day ${user.name}, ready to add a new category?`}\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newCategoryForm()}\r\n          {goBack()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createProduct, getCategories } from \"./apiAdmin\";\r\n\r\nconst AddProduct = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    shipping: \"\",\r\n    quantity: \"\",\r\n    photo: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    redirectToProfile: false,\r\n    formData: \"\",\r\n  });\r\n\r\n  const { user, token } = isAuthenticated();\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    categories,\r\n    category,\r\n    shipping,\r\n    quantity,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    redirectToProfile,\r\n    formData,\r\n  } = values;\r\n\r\n  // load categories and set form data\r\n  const init = () => {\r\n    getCategories().then((data) => {\r\n      // console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          categories: data.data,\r\n          formData: new FormData(),\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    createProduct(user._id, token, formData).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          description: \"\",\r\n          photo: \"\",\r\n          price: \"\",\r\n          quantity: \"\",\r\n          loading: false,\r\n          createdProduct: data.name,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const newPostForm = () => (\r\n    <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n      <h4>Post Photo</h4>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-secondary\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image/*\"\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Name</label>\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={name}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Description</label>\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          className=\"form-control\"\r\n          value={description}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Price</label>\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={price}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Category</label>\r\n        <select onChange={handleChange(\"category\")} className=\"form-control\">\r\n          <option>Please select</option>\r\n          {categories &&\r\n            categories.map((c, i) => (\r\n              <option key={i} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Shipping</label>\r\n        <select onChange={handleChange(\"shipping\")} className=\"form-control\">\r\n          <option>Please select</option>\r\n          <option value=\"0\">No</option>\r\n          <option value=\"1\">Yes</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label className=\"text-muted\">Quantity</label>\r\n        <input\r\n          onChange={handleChange(\"quantity\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          value={quantity}\r\n        />\r\n      </div>\r\n\r\n      <button className=\"btn btn-outline-primary\">Create Product</button>\r\n    </form>\r\n  );\r\n\r\n  const showError = () => (\r\n    <div\r\n      className=\"alert alert-danger\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className=\"alert alert-info\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h2>{`${createdProduct}`} is created!</h2>\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className=\"alert alert-success\">\r\n        <h2>Loading...</h2>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Add a new product\"\r\n      description={`G'day ${user.name}, ready to add a new product?`}\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {showLoading()}\r\n          {showSuccess()}\r\n          {showError()}\r\n          {newPostForm()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState } from \"react\";\n\nconst Checkbox = ({ categories, handleFilters }) => {\n  const [checked, setChecked] = useState([]);\n\n  const handleToggle = (c) => () => {\n    //return the first index or -1\n    const currentCategoryId = checked.indexOf(c);\n    const newCheckedCategoryId = [...checked];\n    // if currently checked was not already in checked state, then push\n    //else pull/takeoff\n    if (currentCategoryId === -1) {\n      newCheckedCategoryId.push(c);\n    } else {\n      newCheckedCategoryId.splice(currentCategoryId, 1);\n    }\n\n    // console.log(newCheckedCategoryId);\n    setChecked(newCheckedCategoryId);\n    handleFilters(newCheckedCategoryId);\n  };\n\n  return categories.map((c, i) => (\n    <li key={i} className=\"list-unstyled\">\n      <input\n        onChange={handleToggle(c._id)}\n        value={checked.indexOf(c._id === -1)}\n        type=\"checkbox\"\n        className=\"form-check-input\"\n      />\n      <label className=\"form-check-label\">{c.name}</label>\n    </li>\n  ));\n};\n\nexport default Checkbox;\n","export const prices = [\n  {\n    _id: 0,\n    name: \"Any\",\n    array: [],\n  },\n  {\n    _id: 2,\n    name: \"0 to 100   \",\n    array: [0, 100],\n  },\n  {\n    _id: 3,\n    name: \"100 to 500   \",\n    array: [100, 500],\n  },\n  {\n    _id: 4,\n    name: \"500 to 1000   \",\n    array: [500, 1000],\n  },\n  {\n    _id: 5,\n    name: \"1000+ (MORE THAN 1000)  \",\n    array: [1000, 10000],\n  },\n];\n","import React, { useState } from \"react\";\n\nconst RadioBox = ({ prices, handleFilters }) => {\n  const [value, setValue] = useState(0);\n\n  const handleChange = (event) => {\n    handleFilters(event.target.value);\n    setValue(event.target.value);\n  };\n\n  return prices.map((p, i) => (\n    <li key={i}>\n      <input\n        onChange={handleChange}\n        value={`${p._id}`}\n        name={p}\n        type=\"radio\"\n        className=\"mr-2 ml-4\"\n      />\n      <label className=\"form-check-label\">{p.name}</label>\n    </li>\n  ));\n};\n\nexport default RadioBox;\n","// eslint-disable-next-line\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport Card from \"./Card\";\nimport { getCategories, getFilteredProducts } from \"./apiCore\";\nimport Checkbox from \"./Checkbox\";\nimport { prices } from \"./fixedPrices\";\nimport RadioBox from \"./RadioBox\";\n\nconst Shop = () => {\n  const [myFilters, setMyFilters] = useState({\n    filters: { category: [], price: [] },\n  });\n  const [categories, setCategories] = useState([]);\n  // eslint-disable-next-line\n  const [error, setError] = useState(false);\n  // eslint-disable-next-line\n  const [limit, setLimit] = useState(6);\n  const [skip, setSkip] = useState(0);\n  const [size, setSize] = useState(0);\n  const [filteredResults, setFilteredResults] = useState([]);\n\n  const init = () => {\n    getCategories().then((data) => {\n      // console.log(data);\n\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setCategories(data.data);\n      }\n    });\n  };\n\n  const loadFilteredResults = (newFilters) => {\n    // console.log(newFilters);\n    getFilteredProducts(skip, limit, newFilters).then((data) => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setFilteredResults(data.data);\n        setSize(data.size);\n        setSkip(0);\n      }\n    });\n  };\n\n  const loadMore = () => {\n    let toSkip = skip + limit;\n    getFilteredProducts(toSkip, limit, myFilters.filters).then((data) => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setFilteredResults([...filteredResults, ...data.data]);\n        setSize(data.size);\n        setSkip(toSkip);\n      }\n    });\n  };\n\n  const loadMoreButton = () => {\n    return (\n      size > 0 &&\n      size >= limit && (\n        <button onClick={loadMore} className=\"btn btn-warning mb-5\">\n          Load more\n        </button>\n      )\n    );\n  };\n\n  useEffect(() => {\n    init();\n    loadFilteredResults(skip, limit, myFilters.filters);\n  }, []);\n\n  const handleFilters = (filters, filterBy) => {\n    // console.log(\"SHOP\", filters, filterBy);\n    const newFilters = { ...myFilters };\n    newFilters.filters[filterBy] = filters;\n\n    if (filterBy === \"price\") {\n      let priceValues = handlePrice(filters);\n      newFilters.filters[filterBy] = priceValues;\n    }\n    loadFilteredResults(myFilters.filters);\n    setMyFilters(newFilters);\n  };\n\n  const handlePrice = (value) => {\n    const data = prices;\n    let array = [];\n\n    for (let key in data) {\n      if (data[key]._id === parseInt(value)) {\n        array = data[key].array;\n      }\n    }\n\n    return array;\n  };\n\n  return (\n    <Layout\n      title=\"Shop Page\"\n      description=\"Search and find books of your choice\"\n      className=\"container-fluid\"\n    >\n      <div className=\"row\">\n        <div className=\"col-4\">\n          <h4>Filter By categories</h4>\n          <ul>\n            <Checkbox\n              categories={categories}\n              handleFilters={(filters) => handleFilters(filters, \"category\")}\n            />\n          </ul>\n\n          <h4>Filter By price range</h4>\n          <div>\n            <RadioBox\n              prices={prices}\n              handleFilters={(filters) => handleFilters(filters, \"price\")}\n            />\n          </div>\n        </div>\n\n        <div className=\"col-8 \">\n          <h2 className=\"mb-4\">Product</h2>\n          <div className=\"row\">\n            {filteredResults.map((product, i) => (\n              <div key={i} className=\"col-4 mb-3\">\n                <Card product={product} />\n              </div>\n            ))}\n          </div>\n          <hr />\n          {loadMoreButton()}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Shop;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport { read, listRelated } from \"./apiCore\";\nimport Card from \"./Card\";\n\nconst Product = (props) => {\n  const [product, setProduct] = useState({});\n  const [relatedProduct, setRelatedProduct] = useState([]);\n  const [error, setError] = useState(false);\n\n  const loadSignalProduct = (productId) => {\n    read(productId).then((data) => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProduct(data);\n        // fetch related products\n        listRelated(data._id).then((data) => {\n          if (data.error) {\n            setError(data.error);\n          } else {\n            setRelatedProduct(data);\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    const productId = props.match.params.productId;\n    loadSignalProduct(productId);\n  }, [props]);\n\n  return (\n    <Layout\n      title={product && product.name}\n      description={\n        product && product.description && product.description.substring(0, 100)\n      }\n      className=\"container-fluid\"\n    >\n      <div className=\"row\">\n        <div className=\"col-8\">\n          {product && product.description && (\n            <Card product={product} showViewProductButton={false} />\n          )}\n        </div>\n\n        <div className=\"col-4 \">\n          <h4>Related Products</h4>\n          {relatedProduct.map((p, i) => (\n            <div className=\"mb-3\">\n              <Card key={i} product={p} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </Layout>\n  );\n};\nexport default Product;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  getProducts,\n  getBraintreeClientToken,\n  processPayment,\n  createOrder,\n} from \"./apiCore\";\nimport { emptyCart } from \"./cartHelper\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\n// import \"braintree-web\"; // not using this package\nimport DropIn from \"braintree-web-drop-in-react\";\n\nconst Checkout = ({ products, setRun = (f) => f, run = undefined }) => {\n  const [data, setData] = useState({\n    loading: false,\n    success: false,\n    clientToken: null,\n    error: \"\",\n    instance: {},\n    address: \"\",\n  });\n\n  const userId = isAuthenticated() && isAuthenticated().user._id;\n  const token = isAuthenticated() && isAuthenticated().token;\n\n  const getToken = (userId, token) => {\n    getBraintreeClientToken(userId, token).then((data) => {\n      if (data.error) {\n        console.log(data.error);\n        setData({ ...data, error: data.error });\n      } else {\n        // console.log(data);\n        setData({ clientToken: data.clientToken });\n      }\n    });\n  };\n\n  useEffect(() => {\n    getToken(userId, token);\n  }, []);\n\n  const handleAddress = (event) => {\n    setData({ ...data, address: event.target.value });\n  };\n\n  const getTotal = () => {\n    return products.reduce((currentValue, nextValue) => {\n      return currentValue + nextValue.count * nextValue.price;\n    }, 0);\n  };\n\n  const showCheckout = () => {\n    return isAuthenticated() ? (\n      <div>{showDropIn()}</div>\n    ) : (\n      <Link to=\"/signin\">\n        <button className=\"btn btn-primary\">Sign in to checkout</button>\n      </Link>\n    );\n  };\n\n  let deliveryAddress = data.address;\n\n  const buy = () => {\n    setData({ loading: true });\n    // send the nonce to your server\n    // nonce = data.instance.requestPaymentMethod()\n    let nonce;\n    let getNonce = data.instance\n      .requestPaymentMethod()\n      .then((data) => {\n        // console.log(data);\n        nonce = data.nonce;\n        // once you have nonce (card type, card number) send nonce as 'paymentMethodNonce'\n        // and also total to be charged\n        // console.log(\n        //     \"send nonce and total to process: \",\n        //     nonce,\n        //     getTotal(products)\n        // );\n        const paymentData = {\n          paymentMethodNonce: nonce,\n          amount: getTotal(products),\n        };\n\n        processPayment(userId, token, paymentData)\n          .then((response) => {\n            console.log(response);\n            // empty cart\n            // create order\n\n            const createOrderData = {\n              products: products,\n              transaction_id: response.transaction.id,\n              amount: response.transaction.amount,\n              address: deliveryAddress,\n            };\n\n            createOrder(userId, token, createOrderData)\n              .then((response) => {\n                emptyCart(() => {\n                  setRun(!run); // run useEffect in parent Cart\n                  console.log(\"payment success and empty cart\");\n                  setData({\n                    loading: false,\n                    success: true,\n                  });\n                });\n              })\n              .catch((error) => {\n                console.log(error);\n                setData({ loading: false });\n              });\n          })\n          .catch((error) => {\n            console.log(error);\n            setData({ loading: false });\n          });\n      })\n      .catch((error) => {\n        // console.log(\"dropin error: \", error);\n        setData({ ...data, error: error.message });\n      });\n  };\n\n  const showDropIn = () => (\n    <div onBlur={() => setData({ ...data, error: \"\" })}>\n      {data.clientToken !== null && products.length > 0 ? (\n        <div>\n          <div className=\"gorm-group mb-3\">\n            <label className=\"text-muted\">Delivery address:</label>\n            <textarea\n              onChange={handleAddress}\n              className=\"form-control\"\n              value={data.address}\n              placeholder=\"Type your delivery address here...\"\n            />\n          </div>\n\n          <DropIn\n            options={{\n              authorization: data.clientToken,\n              paypal: {\n                flow: \"vault\",\n              },\n            }}\n            onInstance={(instance) => (data.instance = instance)}\n          />\n          <button onClick={buy} className=\"btn btn-success btn-block\">\n            Pay\n          </button>\n        </div>\n      ) : null}\n    </div>\n  );\n\n  const showError = (error) => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? \"\" : \"none\" }}\n    >\n      {error}\n    </div>\n  );\n\n  const showSuccess = (success) => (\n    <div\n      className=\"alert alert-info\"\n      style={{ display: success ? \"\" : \"none\" }}\n    >\n      Thanks! Your payment was successful!\n    </div>\n  );\n\n  const showLoading = (loading) =>\n    loading && <h2 className=\"text-danger\">Loading...</h2>;\n\n  return (\n    <div>\n      <h2>Total: {getTotal()}</h2>\n      {showLoading(data.loading)}\n      {showSuccess(data.success)}\n      {showError(data.error)}\n      {showCheckout()}\n    </div>\n  );\n};\n\nexport default Checkout;\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Layout from \"./Layout\";\nimport { getCart } from \"./cartHelper\";\nimport Card from \"./Card\";\nimport Checkout from \"./Checkout\";\n\nconst Cart = () => {\n  const [items, setItems] = useState([]);\n  const [run, setRun] = useState(false);\n\n  useEffect(() => {\n    setItems(getCart());\n  }, [run]);\n\n  const showItems = (items) => {\n    return (\n      <div>\n        <h2>Your cart has {`${items.length}`} items</h2>\n        <hr />\n        {items.map((product, i) => (\n          <Card\n            key={i}\n            product={product}\n            showAddToCartButton={false}\n            cartUpdate={true}\n            showRemoveProductButton={true}\n            setRun={setRun}\n            run={run}\n          />\n        ))}\n      </div>\n    );\n  };\n\n  const noItemsMessage = () => (\n    <h2>\n      Your cart is empty. <br /> <Link to=\"/shop\">Continue shopping</Link>\n    </h2>\n  );\n\n  return (\n    <Layout\n      title=\"Shopping Cart\"\n      description=\"Manage your cart items. Add remove checkout or continue shopping.\"\n      className=\"container-fluid\"\n    >\n      <div className=\"row\">\n        <div className=\"col-6\">\n          {items.length > 0 ? showItems(items) : noItemsMessage()}\n        </div>\n\n        <div className=\"col-6\">\n          <h2 className=\"mb-4\">Your cart summary</h2>\n          <hr />\n          <Checkout products={items} setRun={setRun} run={run} />\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Cart;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { listOrders, getStatusValues, updateOrderStatus } from \"./apiAdmin\";\nimport moment from \"moment\";\n\nconst Orders = () => {\n  const [orders, setOrders] = useState([]);\n  const [statusValues, setStatusValues] = useState([]);\n\n  const { user, token } = isAuthenticated();\n\n  const loadOrders = () => {\n    listOrders(user._id, token).then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setOrders(data);\n      }\n    });\n  };\n\n  const loadStatusValues = () => {\n    getStatusValues(user._id, token).then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setStatusValues(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadOrders();\n    loadStatusValues();\n  }, []);\n\n  const showOrdersLength = () => {\n    if (orders.length > 0) {\n      return (\n        <h1 className=\"text-danger display-2\">Total orders: {orders.length}</h1>\n      );\n    } else {\n      return <h1 className=\"text-danger\">No orders</h1>;\n    }\n  };\n\n  const showInput = (key, value) => (\n    <div className=\"input-group mb-2 mr-sm-2\">\n      <div className=\"input-group-prepend\">\n        <div className=\"input-group-text\">{key}</div>\n      </div>\n      <input type=\"text\" value={value} className=\"form-control\" readOnly />\n    </div>\n  );\n\n  const handleStatusChange = (e, orderId) => {\n    updateOrderStatus(user._id, token, orderId, e.target.value).then((data) => {\n      if (data.error) {\n        console.log(\"Status update failed\");\n      } else {\n        loadOrders();\n      }\n    });\n  };\n\n  const showStatus = (o) => (\n    <div className=\"form-group\">\n      <h3 className=\"mark mb-4\">Status: {o.status}</h3>\n      <select\n        className=\"form-control\"\n        onChange={(e) => handleStatusChange(e, o._id)}\n      >\n        <option>Update Status</option>\n        {statusValues.map((status, index) => (\n          <option key={index} value={status}>\n            {status}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n\n  return (\n    <Layout\n      title=\"Orders\"\n      description={`G'day ${user.name}, you can manage all the orders here`}\n      className=\"container-fluid\"\n    >\n      <div className=\"row\">\n        <div className=\"col-md-8 offset-md-2\">\n          {showOrdersLength()}\n\n          {orders.map((o, oIndex) => {\n            return (\n              <div\n                className=\"mt-5\"\n                key={oIndex}\n                style={{ borderBottom: \"5px solid indigo\" }}\n              >\n                <h2 className=\"mb-5\">\n                  <span className=\"bg-primary\">Order ID: {o._id}</span>\n                </h2>\n\n                <ul className=\"list-group mb-2\">\n                  <li className=\"list-group-item\">{showStatus(o)}</li>\n                  <li className=\"list-group-item\">\n                    Transaction ID: {o.transaction_id}\n                  </li>\n                  <li className=\"list-group-item\">Amount: ${o.amount}</li>\n                  <li className=\"list-group-item\">Ordered by: {o.user.name}</li>\n                  <li className=\"list-group-item\">\n                    Ordered on: {moment(o.createdAt).fromNow()}\n                  </li>\n                  <li className=\"list-group-item\">\n                    Delivery address: {o.address}\n                  </li>\n                </ul>\n\n                <h3 className=\"mt-4 mb-4 font-italic\">\n                  Total products in the order: {o.products.length}\n                </h3>\n\n                {o.products.map((p, pIndex) => (\n                  <div\n                    className=\"mb-4\"\n                    key={pIndex}\n                    style={{\n                      padding: \"20px\",\n                      border: \"1px solid indigo\",\n                    }}\n                  >\n                    {showInput(\"Product name\", p.name)}\n                    {showInput(\"Product price\", p.price)}\n                    {showInput(\"Product total\", p.count)}\n                    {showInput(\"Product Id\", p._id)}\n                  </div>\n                ))}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Orders;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { read, update, updateUser } from \"./apiUser\";\n\nconst Profile = ({ match }) => {\n  const [values, setValues] = useState({\n    name: \"\",\n    password: \"\",\n    email: \"\",\n    error: false,\n    success: false,\n  });\n\n  const { token } = isAuthenticated();\n  const { name, email, password, error, success } = values;\n\n  const init = (userId) => {\n    // console.log(userId);\n    read(userId, token).then((data) => {\n      if (data.error) {\n        setValues({ ...values, error: true });\n      } else {\n        setValues({ ...values, name: data.name, email: data.email });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init(match.params.userId);\n  }, []);\n\n  const handleChange = (name) => (e) => {\n    setValues({ ...values, error: false, [name]: e.target.value });\n  };\n\n  const clickSubmit = (e) => {\n    e.preventDefault();\n    update(match.params.userId, token, { name, email, password }).then(\n      (data) => {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          updateUser(data, () => {\n            setValues({\n              ...values,\n              name: data.name,\n              email: data.email,\n              success: true,\n            });\n          });\n        }\n      }\n    );\n  };\n\n  const redirectUser = (success) => {\n    if (success) {\n      return <Redirect to=\"/cart\" />;\n    }\n  };\n\n  const profileUpdate = (name, emeail, password) => (\n    <form>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Name</label>\n        <input\n          type=\"text\"\n          onChange={handleChange(\"name\")}\n          className=\"form-control\"\n          value={name}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Email</label>\n        <input\n          type=\"email\"\n          onChange={handleChange(\"email\")}\n          className=\"form-control\"\n          value={email}\n          readOnly\n        />\n      </div>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Password</label>\n        <input\n          type=\"password\"\n          onChange={handleChange(\"password\")}\n          className=\"form-control\"\n          value={password}\n        />\n      </div>\n\n      <button onClick={clickSubmit} className=\"btn btn-primary\">\n        Submit\n      </button>\n    </form>\n  );\n\n  return (\n    <Layout\n      title=\"Profile\"\n      description=\"Update your profile\"\n      className=\"container-fluid\"\n    >\n      <h2 className=\"mb-4\">Profile update</h2>\n      {profileUpdate(name, email, password)}\n      {redirectUser(success)}\n    </Layout>\n  );\n};\n\nexport default Profile;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { getProducts, deleteProduct } from \"./apiAdmin\";\n\nconst ManageProducts = () => {\n  const [products, setProducts] = useState([]);\n\n  const { user, token } = isAuthenticated();\n\n  const loadProducts = () => {\n    getProducts().then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setProducts(data);\n      }\n    });\n  };\n\n  const destroy = (productId) => {\n    deleteProduct(productId, user._id, token).then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        loadProducts();\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadProducts();\n  }, []);\n\n  return (\n    <Layout\n      title=\"Manage Products\"\n      description=\"Perform CRUD on products\"\n      className=\"container-fluid\"\n    >\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <h2 className=\"text-center\">Total {products.length} products</h2>\n          <hr />\n          <ul className=\"list-group\">\n            {products.map((p, i) => (\n              <li\n                key={i}\n                className=\"list-group-item d-flex justify-content-between align-items-center\"\n              >\n                <strong>{p.name}</strong>\n                <Link to={`/admin/product/update/${p._id}`}>\n                  <span className=\"badge badge-warning badge-pill\">Update</span>\n                </Link>\n                <span\n                  onClick={() => destroy(p._id)}\n                  className=\"badge badge-danger badge-pill text-center\"\n                >\n                  Delete\n                </span>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default ManageProducts;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { getProduct, getCategories, updateProduct } from \"./apiAdmin\";\n\nconst UpdateProduct = ({ match }) => {\n  const [values, setValues] = useState({\n    name: \"\",\n    description: \"\",\n    price: \"\",\n    categories: [],\n    category: \"\",\n    shipping: \"\",\n    quantity: \"\",\n    photo: \"\",\n    loading: false,\n    error: false,\n    createdProduct: \"\",\n    redirectToProfile: false,\n    formData: \"\",\n  });\n  const [categories, setCategories] = useState([]);\n\n  const { user, token } = isAuthenticated();\n  const {\n    name,\n    description,\n    price,\n    // categories,\n    category,\n    shipping,\n    quantity,\n    loading,\n    error,\n    createdProduct,\n    redirectToProfile,\n    formData,\n  } = values;\n\n  const init = (productId) => {\n    getProduct(productId).then((data) => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        // populate the state\n        setValues({\n          ...values,\n          name: data.name,\n          description: data.description,\n          price: data.price,\n          category: data.category._id,\n          shipping: data.shipping,\n          quantity: data.quantity,\n          formData: new FormData(),\n        });\n        // load categories\n        initCategories();\n      }\n    });\n  };\n\n  // load categories and set form data\n  const initCategories = () => {\n    getCategories().then((data) => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setCategories(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    init(match.params.productId);\n  }, []);\n\n  const handleChange = (name) => (event) => {\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\n    formData.set(name, value);\n    setValues({ ...values, [name]: value });\n  };\n\n  const clickSubmit = (event) => {\n    event.preventDefault();\n    setValues({ ...values, error: \"\", loading: true });\n\n    updateProduct(match.params.productId, user._id, token, formData).then(\n      (data) => {\n        if (data.error) {\n          setValues({ ...values, error: data.error });\n        } else {\n          setValues({\n            ...values,\n            name: \"\",\n            description: \"\",\n            photo: \"\",\n            price: \"\",\n            quantity: \"\",\n            loading: false,\n            error: false,\n            redirectToProfile: true,\n            createdProduct: data.name,\n          });\n        }\n      }\n    );\n  };\n\n  const newPostForm = () => (\n    <form className=\"mb-3\" onSubmit={clickSubmit}>\n      <h4>Post Photo</h4>\n      <div className=\"form-group\">\n        <label className=\"btn btn-secondary\">\n          <input\n            onChange={handleChange(\"photo\")}\n            type=\"file\"\n            name=\"photo\"\n            accept=\"image/*\"\n          />\n        </label>\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Name</label>\n        <input\n          onChange={handleChange(\"name\")}\n          type=\"text\"\n          className=\"form-control\"\n          value={name}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Description</label>\n        <textarea\n          onChange={handleChange(\"description\")}\n          className=\"form-control\"\n          value={description}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Price</label>\n        <input\n          onChange={handleChange(\"price\")}\n          type=\"number\"\n          className=\"form-control\"\n          value={price}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Category</label>\n        <select onChange={handleChange(\"category\")} className=\"form-control\">\n          <option>Please select</option>\n          {categories &&\n            categories.map((c, i) => (\n              <option key={i} value={c._id}>\n                {c.name}\n              </option>\n            ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Shipping</label>\n        <select onChange={handleChange(\"shipping\")} className=\"form-control\">\n          <option>Please select</option>\n          <option value=\"0\">No</option>\n          <option value=\"1\">Yes</option>\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Quantity</label>\n        <input\n          onChange={handleChange(\"quantity\")}\n          type=\"number\"\n          className=\"form-control\"\n          value={quantity}\n        />\n      </div>\n\n      <button className=\"btn btn-outline-primary\">Update Product</button>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? \"\" : \"none\" }}\n    >\n      {error}\n    </div>\n  );\n\n  const showSuccess = () => (\n    <div\n      className=\"alert alert-info\"\n      style={{ display: createdProduct ? \"\" : \"none\" }}\n    >\n      <h2>{`${createdProduct}`} is updated!</h2>\n    </div>\n  );\n\n  const showLoading = () =>\n    loading && (\n      <div className=\"alert alert-success\">\n        <h2>Loading...</h2>\n      </div>\n    );\n\n  const redirectUser = () => {\n    if (redirectToProfile) {\n      if (!error) {\n        return <Redirect to=\"/\" />;\n      }\n    }\n  };\n\n  return (\n    <Layout\n      title=\"Add a new product\"\n      description={`G'day ${user.name}, ready to add a new product?`}\n    >\n      <div className=\"row\">\n        <div className=\"col-md-8 offset-md-2\">\n          {showLoading()}\n          {showSuccess()}\n          {showError()}\n          {newPostForm()}\n          {redirectUser()}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default UpdateProduct;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { getCategory, updateCategory } from \"./apiAdmin\";\n// {category: [\"5cd0258f2793ec6e100bc191\"], price: []}\n// http://localhost:3000/admin/category/update/5cd0258f2793ec6e100bc191\nconst UpdateCategory = ({ match }) => {\n  const [values, setValues] = useState({\n    name: \"\",\n    error: \"\",\n    redirectToProfile: false,\n    formData: \"\",\n  });\n\n  // destructure user and token from localStorage\n  const { user, token } = isAuthenticated();\n\n  const { name, error, redirectToProfile } = values;\n\n  const init = (categoryId) => {\n    getCategory(categoryId, token).then((data) => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        // populate the state\n        setValues({\n          ...values,\n          name: data.name,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init(match.params.categoryId);\n  }, []);\n\n  const handleChange = (name) => (event) => {\n    setValues({ ...values, error: false, [name]: event.target.value });\n  };\n\n  const submitCategoryForm = (e) => {\n    e.preventDefault();\n    // update with ? you should send category name otherwise what to update?\n    const category = {\n      name: name,\n    };\n    updateCategory(match.params.categoryId, user._id, token, category).then(\n      (data) => {\n        if (data.error) {\n          setValues({ ...values, error: data.error });\n        } else {\n          setValues({\n            ...values,\n            name: data.name,\n            error: false,\n            redirectToProfile: true,\n          });\n        }\n      }\n    );\n  };\n\n  const updateCategoryForm = () => (\n    <div className=\"wrap-login100 p-l-85 p-r-85 p-t-55 p-b-55\">\n      <form className=\"mb-5\" onSubmit={submitCategoryForm}>\n        <span className=\"login100-form-title p-b-32 m-b-7\">\n          Update Category Form\n        </span>\n        <span className=\"txt1 p-b-11\">Category Name</span>\n        <br />\n        <br />\n        <div className=\"wrap-input100 validate-input m-b-36\">\n          <input\n            onChange={handleChange(\"name\")}\n            value={name}\n            className=\"input100\"\n            type=\"text\"\n            required\n            name=\"name\"\n          />\n        </div>\n        <div className=\"w-size25\">\n          <button\n            type=\"submit\"\n            className=\"flex-c-m size2 bg1 bo-rad-23 hov1 m-text3 trans-0-4\"\n          >\n            Save Changes\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n\n  const showError = () => (\n    <div\n      className={\"alert alert-danger\"}\n      role=\"alert\"\n      style={{ display: error ? \"\" : \"none\" }}\n    >\n      <button\n        type=\"button\"\n        className=\"close\"\n        data-dismiss=\"alert\"\n        aria-label=\"Close\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      {error}\n    </div>\n  );\n\n  const redirectUser = () => {\n    if (redirectToProfile) {\n      if (!error) {\n        return <Redirect to=\"/admin/categories\" />;\n      }\n    }\n  };\n\n  const goBackBTN = () => {\n    return (\n      <div className=\"mt-5\">\n        <Link to=\"/admin/categories\" className=\"text-info\">\n          Back To Admin Home\n        </Link>\n      </div>\n    );\n  };\n\n  return (\n    <Layout\n      title={`Hi ${user.name}`}\n      description={`This is Update Product Action Page`}\n      className=\"container-fluid\"\n    >\n      <div className=\"row\">\n        <div className=\"col-md-8 offset-md-2 m-b-250 mb-5\">\n          {showError()}\n          {updateCategoryForm()}\n          {goBackBTN()}\n          {redirectUser()}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default UpdateCategory;\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Signup from \"./user/Signup\";\nimport Signin from \"./user/Signin\";\nimport Home from \"./core/Home\";\nimport PrivateRoute from \"./auth/PrivateRoute\";\nimport Dashboard from \"./user/UserDashboard\";\nimport AdminRoute from \"./auth/AdminRoute\";\nimport AdminDashboard from \"./user/AdminDashboard\";\nimport AddCategory from \"./admin/AddCategory\";\nimport AddProduct from \"./admin/AddProduct\";\nimport Shop from \"./core/Shop\";\nimport Product from \"./core/Product\";\nimport Cart from \"./core/Cart\";\nimport Orders from \"./admin/Orders\";\nimport Profile from \"./user/Profile\";\nimport ManageProducts from \"./admin/ManageProducts\";\nimport UpdateProduct from \"./admin/UpdateProduct\";\nimport UpdateCategory from \"./admin/updateCategory\";\n\nconst Routes = () => {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/shop\" exact component={Shop} />\n        <Route path=\"/signin\" exact component={Signin} />\n        <Route path=\"/signup\" exact component={Signup} />\n        <PrivateRoute path=\"/user/dashboard\" exact component={Dashboard} />\n        <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\n        <AdminRoute path=\"/create/category\" exact component={AddCategory} />\n        <AdminRoute path=\"/create/product\" exact component={AddProduct} />\n        <Route path=\"/product/:productId\" exact component={Product} />\n        <Route path=\"/cart\" exact component={Cart} />\n        <AdminRoute path=\"/admin/orders\" exact component={Orders} />\n        <PrivateRoute path=\"/profile/:userId\" exact component={Profile} />\n        <PrivateRoute path=\"/admin/products\" exact component={ManageProducts} />\n        <AdminRoute\n          path=\"/admin/product/update/:productId\"\n          exact\n          component={UpdateProduct}\n        />\n        <AdminRoute\n          path=\"/admin/category/update/:categoryId\"\n          exact\n          component={UpdateCategory}\n        />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Routes from \"./Routes\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n"],"sourceRoot":""}